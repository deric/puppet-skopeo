# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`skopeo`](#skopeo): skopeo image synchronization

#### Private Classes

* `skopeo::config`: Manage common configuration
* `skopeo::install`: Manage skopeo binary installation

### Defined types

* [`skopeo::sync`](#skopeosync): Manage configuration for scopeo sync

### Data types

* [`Skopeo::ByTag`](#skopeobytag): Images with tag/version specification
* [`Skopeo::DestType`](#skopeodesttype): Source transport type
* [`Skopeo::Matrix`](#skopeomatrix): Configuration images X versions to sync
* [`Skopeo::SrcType`](#skopeosrctype): Source transport type
* [`Skopeo::SyncType`](#skopeosynctype): Configuration of synchronization targets

## Classes

### <a name="skopeo"></a>`skopeo`

skopeo image synchronization

#### Parameters

The following parameters are available in the `skopeo` class:

* [`user`](#user)
* [`group`](#group)
* [`manage_package`](#manage_package)
* [`package_ensure`](#package_ensure)
* [`uid`](#uid)
* [`base_dir`](#base_dir)
* [`log_dir`](#log_dir)
* [`sync`](#sync)

##### <a name="user"></a>`user`

Data type: `String`

User account used for command execution

##### <a name="group"></a>`group`

Data type: `String`



##### <a name="manage_package"></a>`manage_package`

Data type: `Boolean`

Whether package should be installed by this module

##### <a name="package_ensure"></a>`package_ensure`

Data type: `String`

`present`, `absent` or specific package version

##### <a name="uid"></a>`uid`

Data type: `Optional[Integer]`

user id

Default value: ``undef``

##### <a name="base_dir"></a>`base_dir`

Data type: `Stdlib::Unixpath`

Work dir (home dir) for scopeo configs

##### <a name="log_dir"></a>`log_dir`

Data type: `Stdlib::Unixpath`

Directory for storing logs

##### <a name="sync"></a>`sync`

Data type: `Skopeo::SyncType`

Synchronization config, see examples

Default value: `{}`

## Defined types

### <a name="skopeosync"></a>`skopeo::sync`

Sync copies Docker/OCI images from source to destination registry

#### Examples

##### 

```puppet
skopeo::sync { 'registry':
  src  => 'index.docker.io',
  dest => 'my.registry',
}
```

#### Parameters

The following parameters are available in the `skopeo::sync` defined type:

* [`src`](#src)
* [`src_type`](#src_type)
* [`dest`](#dest)
* [`dest_prefix`](#dest_prefix)
* [`dest_type`](#dest_type)
* [`matrix`](#matrix)
* [`by_tag`](#by_tag)
* [`tls_verify`](#tls_verify)
* [`redirect_logs`](#redirect_logs)
* [`user`](#user)
* [`group`](#group)
* [`base_dir`](#base_dir)
* [`log_dir`](#log_dir)

##### <a name="src"></a>`src`

Data type: `String`

Source registry

##### <a name="src_type"></a>`src_type`

Data type: `Skopeo::SrcType`

Source transport: `docker`,`dir` or `yaml`. Default is `yaml`

Default value: `'yaml'`

##### <a name="dest"></a>`dest`

Data type: `String`

Destination registry

##### <a name="dest_prefix"></a>`dest_prefix`

Data type: `Optional[String]`

Set prefix for destination registry

Default value: ``undef``

##### <a name="dest_type"></a>`dest_type`

Data type: `Skopeo::DestType`

Destination transport, either `docker` or `dir`. Default: `docker`

Default value: `'docker'`

##### <a name="matrix"></a>`matrix`

Data type: `Optional[Skopeo::Matrix]`

A hash with `images` and `versions` array that will be cross joined

Default value: ``undef``

##### <a name="by_tag"></a>`by_tag`

Data type: `Skopeo::ByTag`

Hash containing image name and version (regexp)

Default value: `{}`

##### <a name="tls_verify"></a>`tls_verify`

Data type: `Boolean`

HTTPS TLS verification

Default value: ``true``

##### <a name="redirect_logs"></a>`redirect_logs`

Data type: `Boolean`

Whether logs should be redirected to a file stored in the `log_dir`

Default value: ``true``

##### <a name="user"></a>`user`

Data type: `String`



Default value: `$skopeo::user`

##### <a name="group"></a>`group`

Data type: `String`



Default value: `$skopeo::group`

##### <a name="base_dir"></a>`base_dir`

Data type: `Stdlib::Unixpath`



Default value: `$skopeo::base_dir`

##### <a name="log_dir"></a>`log_dir`

Data type: `Stdlib::Unixpath`



Default value: `$skopeo::log_dir`

## Data types

### <a name="skopeobytag"></a>`Skopeo::ByTag`

Images with tag/version specification

Alias of

```puppet
Hash[String[1], String[1]]
```

### <a name="skopeodesttype"></a>`Skopeo::DestType`

Source transport type

Alias of

```puppet
Enum['docker', 'dir']
```

### <a name="skopeomatrix"></a>`Skopeo::Matrix`

Configuration images X versions to sync

Alias of

```puppet
Struct[{
  images => Array[String[1]],
  versions => Array[String[1]],
}]
```

### <a name="skopeosrctype"></a>`Skopeo::SrcType`

Source transport type

Alias of

```puppet
Enum['docker', 'dir', 'yaml']
```

### <a name="skopeosynctype"></a>`Skopeo::SyncType`

Configuration of synchronization targets

Alias of

```puppet
Hash[String[1], Struct[{
    src                   => String[1],
    dest                  => String[1],
    Optional[dest_prefix] => String[1],
    Optional[src_type]    => Skopeo::SrcType,
    Optional[dest_type]   => Skopeo::DestType,
    Optional[matrix]      => Skopeo::Matrix,
    Optional[by_tag]      => Skopeo::ByTag,
    Optional[tls_verify]  => Boolean,
    Optional[user]        => String,
    Optional[group]       => String,
    Optional[base_dir]    => Stdlib::Unixpath,
    Optional[log_dir]     => Stdlib::Unixpath,
  }]]
```

